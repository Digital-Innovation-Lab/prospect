/*! prospect 2017-05-02 */
var PMapHub=function(){function a(a){var b=_.sortedIndex(d,{id:a},"id"),c=d[b];if(c.id!==a)throw new Error("Base map "+a+" does not exist.");return c.id===a?c:null}function b(a){var b=_.sortedIndex(e,{id:a},"id"),c=e[b];if(c.id!==a)throw new Error("Overlay map "+a+" does not exist.");return c.id===a?c:null}function c(a){var b=_.sortedIndex(f,{gid:a},"gid"),c=f[b];return c.gid===a?c:null}var d=[{id:".blank",sname:"Blank",url:"",subd:"",credits:"",desc:"Blank Base Map"},{id:".esri-natgeoworld",sname:"Esri, Nat Geo Landscape",url:"http://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",subd:"",credits:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",desc:"Esri, National Geographic Landscape"},{id:".osm-base",sname:"OSM Base",url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",subd:"a|b|c",credits:"OpenStreetMap",desc:"OpenStreetMap Base Map"},{id:".osm-bw",sname:"OpenStreetMap B/W",url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",subd:"",credits:"OpenStreetMap",desc:"OpenStreetMap B/W Base Map"},{id:".stamen-watercolor",sname:"Stamen Watercolor",url:"http://tile.stamen.com/watercolor/{z}/{x}/{y}.jpg",subd:"",credits:"Stamen Design",desc:"Stamen Watercolor Base Map"}],e=[],f=[];return{init:function(a,b){e=a,f=b},getBaseLayers:function(){return d},getOverlays:function(){return e},getBaseByID:function(b){return a(b)},getOverlayByID:function(a){return b(a)},getMapByID:function(c){return"."===c.charAt(0)?a(c):b(c)},getGroupByID:function(a){return c(a)},createMapLayer:function(c,d,e,f){var g,h,i,j,k;return".blank"===c?(h={},h.options={},h.options.opacity=d,h.options.layerName="Blank",h.options.isBaseLayer=!0,e&&(e.minZoom=1,e.maxZoom=20)):"."===c.charAt(0)?(g=a(c),k={attribution:g.credits,maxZoom:20,opacity:d},i=""!==g.subd?g.subd.split("|"):[],i.length>1&&(k.subdomains=i),h=L.tileLayer(g.url,k),h.options.isBaseLayer=!0,h.options.layerName=g.sname,e&&h.addTo(e),f&&f.addBaseLayer(h,g.sname)):(g=b(c),j=g.inverseY===!0||"true"===g.inverseY||"TRUE"===g.inverseY,k={attribution:g.credits,minZoom:g.minZoom,maxZoom:g.maxZoom,tms:j,opacity:d,bounds:L.latLngBounds(g.swBounds,g.neBounds)},i=""!==g.subd?g.subd.split("|"):[],i.length>1&&(k.subdomains=i),h=L.tileLayer(g.url,k),h.options.isBaseLayer=!1,h.options.layerName=g.sname,e&&h.addTo(e),f&&f.addOverlay(h,g.sname)),h.options.id=c,h},createMapGroup:function(a,d,e){var f,g,h,i,j,k,l=null;return f=c(a),f&&(l=L.layerGroup(),l.options.id=l.options.layerName=a,f.mapids.forEach(function(a){g=b(a),g&&(j=g.inverseY===!0||"true"===g.inverseY||"TRUE"===g.inverseY,k={attribution:g.credits,minZoom:g.minZoom,maxZoom:g.maxZoom,tms:j,opacity:d,bounds:L.latLngBounds(g.swBounds,g.neBounds)},i=""!==g.subd?g.subd.split("|"):[],i.length>1&&(k.subdomains=i),h=L.tileLayer(g.url,k),h.options.id=a,h.options.isBaseLayer=!1,h.options.layerName=a,l.addLayer(h))}),e&&l.addTo(e)),l}}}();